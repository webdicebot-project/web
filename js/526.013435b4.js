"use strict";(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[526],{8526:function(e,t,o){o.r(t),o.d(t,{default:function(){return N}});var n=o(9199);const a={class:"vld-parent"},l=(0,n.createTextVNode)("License"),s=(0,n.createTextVNode)("Expired"),i=(0,n.createTextVNode)("Control"),r={class:"copy"},c=(0,n.createTextVNode)(" Renew now ");function d(e,t,o,d,u,C){const p=(0,n.resolveComponent)("loading"),m=(0,n.resolveComponent)("CTableHeaderCell"),h=(0,n.resolveComponent)("CTableRow"),w=(0,n.resolveComponent)("CTableHead"),x=(0,n.resolveComponent)("CIcon"),f=(0,n.resolveComponent)("CTableDataCell"),v=(0,n.resolveComponent)("CButton"),N=(0,n.resolveComponent)("CTableBody"),V=(0,n.resolveComponent)("CTable"),g=(0,n.resolveComponent)("CCardBody"),y=(0,n.resolveComponent)("CCard"),k=(0,n.resolveDirective)("clipboard");return(0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createVNode)(p,{active:u.isLoading},null,8,["active"]),(0,n.createVNode)(y,{class:"mb-4"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(g,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(V,{responsive:""},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(w,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(m,{scope:"col"},{default:(0,n.withCtx)((()=>[l])),_:1}),(0,n.createVNode)(m,{scope:"col"},{default:(0,n.withCtx)((()=>[s])),_:1}),(0,n.createVNode)(m,{scope:"col"},{default:(0,n.withCtx)((()=>[i])),_:1})])),_:1})])),_:1}),(0,n.createVNode)(N,null,{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(u.items,(t=>((0,n.openBlock)(),(0,n.createBlock)(h,{key:t._id},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(f,null,{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("span",r,[(0,n.createTextVNode)((0,n.toDisplayString)(C.getLicense(t.license))+" ",1),(0,n.createVNode)(x,{name:"cil-copy"})],512),[[k,t.license,"copy"],[k,e.onCopy,"success"]])])),_:2},1024),(0,n.createVNode)(f,null,{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.$options.moment(t.expiredAt).format("DD/MM/YYYY HH:mm:ss")),1)])),_:2},1024),(0,n.createVNode)(f,null,{default:(0,n.withCtx)((()=>[C.haveRenew(t)?((0,n.openBlock)(),(0,n.createBlock)(v,{key:0,color:"primary",size:"sm",onClick:o=>e.$router.push({path:"/renew-license",query:{license:t.license}})},{default:(0,n.withCtx)((()=>[c])),_:2},1032,["onClick"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(v,{color:"warning",size:"sm",class:"ms-2",onClick:o=>e.$router.push({path:"/auto-renew-license",query:{license:t.license,state:t.autoRenew?"Disable":"Enable"}})},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(t.autoRenew?"Disable":"Enable")+" auto renew ",1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])}var u=o(6265),C=o.n(u),p=o(6797),m=o.n(p),h=o(3752),w=o.n(h),x={moment:m(),components:{Loading:w()},data(){return{isLoading:!1,items:[]}},created(){this.getMyLicense()},methods:{getLicense(e){return e.slice(0,5)+"..."+e.slice(-5)},haveRenew(e){const t=(new Date(e.expiredAt).valueOf()-Date.now())/864e5;return t<=3},async getMyLicense(){try{this.isLoading=!0;const{data:e}=await C().get("/license/me");this.items=e,this.isLoading=!1}catch(e){this.isLoading=!1,this.notify(e.response.data.message),"jwt expired"!=e.response.data.message&&"jwt malformed"!=e.response.data.message&&"invalid signature"!=e.response.data.message||(this.notify("Session expired"),this.logout())}}}},f=o(89);const v=(0,f.Z)(x,[["render",d]]);var N=v}}]);