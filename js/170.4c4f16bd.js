(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[170],{1170:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return w}});var r=o(9199);const n={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},a=(0,r.createElementVNode)("h1",null,"Login",-1),i={class:"text-medium-emphasis"},l=(0,r.createTextVNode)(" Chat with "),s=["href"],c=(0,r.createTextVNode)(" to get MemberID "),d=(0,r.createTextVNode)(" Get OTP "),u=(0,r.createTextVNode)(" Login "),p=(0,r.createTextVNode)(" Cancel "),f=(0,r.createElementVNode)("br",null,null,-1);function m(e,t,o,m,h,g){const C=(0,r.resolveComponent)("CIcon"),v=(0,r.resolveComponent)("CInputGroupText"),b=(0,r.resolveComponent)("CFormInput"),_=(0,r.resolveComponent)("CInputGroup"),x=(0,r.resolveComponent)("CSpinner"),y=(0,r.resolveComponent)("CButton"),w=(0,r.resolveComponent)("vue-telegram-login"),k=(0,r.resolveComponent)("CCol"),V=(0,r.resolveComponent)("CRow"),N=(0,r.resolveComponent)("CCardBody"),T=(0,r.resolveComponent)("CCard"),S=(0,r.resolveComponent)("CCardGroup"),L=(0,r.resolveComponent)("CContainer");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createVNode)(L,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(V,{class:"justify-content-center"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(k,{md:8},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(S,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(T,{class:"p-4"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(N,null,{default:(0,r.withCtx)((()=>[a,(0,r.createElementVNode)("p",i,[l,(0,r.createElementVNode)("a",{href:e.$options.telebot,target:"_blank"}," Telegram bot ",8,s),c]),(0,r.createVNode)(_,{class:"mb-4"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(v,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(C,{icon:"cil-user"})])),_:1}),(0,r.createVNode)(b,{placeholder:"MemberID",modelValue:h.idUser,"onUpdate:modelValue":t[0]||(t[0]=e=>h.idUser=e)},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(_,{class:"mb-4"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(v,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(C,{icon:"cil-lock-locked"})])),_:1}),(0,r.createVNode)(b,{placeholder:"OTP code",modelValue:h.otp,"onUpdate:modelValue":t[1]||(t[1]=e=>h.otp=e)},null,8,["modelValue"]),h.isLoading?((0,r.openBlock)(),(0,r.createBlock)(y,{key:0,class:"px-4",disabled:""},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(x,{size:"sm"})])),_:1})):((0,r.openBlock)(),(0,r.createBlock)(y,{key:1,color:"success",onClick:g.getOTP},{default:(0,r.withCtx)((()=>[d])),_:1},8,["onClick"]))])),_:1}),(0,r.createVNode)(V,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(k,{xs:6},{default:(0,r.withCtx)((()=>[h.isLoading2?((0,r.openBlock)(),(0,r.createBlock)(y,{key:0,class:"px-4",disabled:""},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(x,{size:"sm"})])),_:1})):((0,r.openBlock)(),(0,r.createBlock)(y,{key:1,color:"primary",class:"px-4",onClick:g.login},{default:(0,r.withCtx)((()=>[u])),_:1},8,["onClick"])),(0,r.createVNode)(y,{class:"mx-2",onClick:t[2]||(t[2]=t=>e.$router.push({path:"/get-started"}))},{default:(0,r.withCtx)((()=>[p])),_:1}),f,(0,r.createVNode)(w,{mode:"callback","telegram-login":"YourTelegramBot",onCallback:g.yourCallbackFunction},null,8,["onCallback"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var h=o(6265),g=o.n(h);const C="https://t.me/webdicebot_bot";var v=C,b=o(1425),_={telebot:v,components:{vueTelegramLogin:b.vueTelegramLogin},data(){return{isLoading:!1,isLoading2:!1,idUser:localStorage.getItem("idUser")||"",otp:""}},created(){this.idUser&&this.getOTP()},methods:{async getOTP(){try{this.isLoading=!0;const{data:e}=await g().post("/user/getOTPLogin",{idUser:this.idUser});this.isLoading=!1,this.notify(e)}catch(e){this.isLoading=!1,this.notify(e.response.data.message)}},async login(){try{this.isLoading2=!0;const{data:e}=await g().post("/user/login",{idUser:this.idUser,otp:this.otp});this.isLoading2=!1,localStorage.setItem("idUser",this.idUser),localStorage.setItem("token",e.token),this.notify("Welcome"),e.token&&setTimeout((()=>{window.location.href="/"}),1e3)}catch(e){this.isLoading2=!1,this.notify(e.response.data.message)}},yourCallbackFunction(e){console.log(e)}}},x=o(89);const y=(0,x.Z)(_,[["render",m]]);var w=y},1425:function(e){!function(t,o){e.exports=o()}(window,(function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var r={name:"vue-telegram-login",props:{mode:{type:String,required:!0,validator:function(e){return["callback","redirect"].includes(e)}},telegramLogin:{type:String,required:!0,validator:function(e){return e.endsWith("bot")||e.endsWith("Bot")}},redirectUrl:{type:String,default:""},requestAccess:{type:String,default:"read",validator:function(e){return["read","write"].includes(e)}},size:{type:String,default:"large",validator:function(e){return["small","medium","large"].includes(e)}},userpic:{type:Boolean,default:!0},radius:{type:String}},methods:{onTelegramAuth:function(e){this.$emit("callback",e)}},mounted:function(){var e=document.createElement("script");e.async=!0,e.src="https://telegram.org/js/telegram-widget.js?3",e.setAttribute("data-size",this.size),e.setAttribute("data-userpic",this.userpic),e.setAttribute("data-telegram-login",this.telegramLogin),e.setAttribute("data-request-access",this.requestAccess),this.radius&&e.setAttribute("data-radius",this.radius),"callback"===this.mode?(window.onTelegramAuth=this.onTelegramAuth,e.setAttribute("data-onauth","window.onTelegramAuth(user)")):e.setAttribute("data-auth-url",this.redirectUrl),this.$refs.telegram.appendChild(e)}},n=function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"telegram"})};n._withStripped=!0;var a=function(e,t,o,r,n,a,i,l){var s=typeof(e=e||{}).default;"object"!==s&&"function"!==s||(e=e.default);var c,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=o,d._compiled=!0),r&&(d.functional=!0),a&&(d._scopeId=a),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=c):n&&(c=l?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(d.functional){d._injectStyles=c;var u=d.render;d.render=function(e,t){return c.call(t),u(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:d}}(r,n,[],!1,null,null,null);a.options.__file="src/vue-telegram-login.vue";var i=a.exports;o.d(t,"vueTelegramLogin",(function(){return i}))}])}))}}]);