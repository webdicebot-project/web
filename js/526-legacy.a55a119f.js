"use strict";(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[526],{8526:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var o=n(9199),r={class:"vld-parent"},a=(0,o.createTextVNode)("License"),i=(0,o.createTextVNode)("Expired"),c=(0,o.createTextVNode)("Control"),l={class:"copy"},s=(0,o.createTextVNode)(" Renew now ");function u(e,t,n,u,d,p){var f=(0,o.resolveComponent)("loading"),C=(0,o.resolveComponent)("CTableHeaderCell"),m=(0,o.resolveComponent)("CTableRow"),w=(0,o.resolveComponent)("CTableHead"),v=(0,o.resolveComponent)("CIcon"),h=(0,o.resolveComponent)("CTableDataCell"),x=(0,o.resolveComponent)("CButton"),g=(0,o.resolveComponent)("CTableBody"),N=(0,o.resolveComponent)("CTable"),V=(0,o.resolveComponent)("CCardBody"),k=(0,o.resolveComponent)("CCard"),y=(0,o.resolveDirective)("clipboard");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(f,{active:d.isLoading},null,8,["active"]),(0,o.createVNode)(k,{class:"mb-4"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(V,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(N,{responsive:""},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(w,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(C,{scope:"col"},{default:(0,o.withCtx)((function(){return[a]})),_:1}),(0,o.createVNode)(C,{scope:"col"},{default:(0,o.withCtx)((function(){return[i]})),_:1}),(0,o.createVNode)(C,{scope:"col"},{default:(0,o.withCtx)((function(){return[c]})),_:1})]})),_:1})]})),_:1}),(0,o.createVNode)(g,null,{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.items,(function(t){return(0,o.openBlock)(),(0,o.createBlock)(m,{key:t._id},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(h,null,{default:(0,o.withCtx)((function(){return[(0,o.withDirectives)((0,o.createElementVNode)("span",l,[(0,o.createTextVNode)((0,o.toDisplayString)(p.getLicense(t.license))+" ",1),(0,o.createVNode)(v,{name:"cil-copy"})],512),[[y,t.license,"copy"],[y,e.onCopy,"success"]])]})),_:2},1024),(0,o.createVNode)(h,null,{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e.$options.moment(t.expiredAt).format("DD/MM/YYYY HH:mm:ss")),1)]})),_:2},1024),(0,o.createVNode)(h,null,{default:(0,o.withCtx)((function(){return[p.haveRenew(t)?((0,o.openBlock)(),(0,o.createBlock)(x,{key:0,color:"primary",size:"sm",onClick:function(n){return e.$router.push({path:"/renew-license",query:{license:t.license}})}},{default:(0,o.withCtx)((function(){return[s]})),_:2},1032,["onClick"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(x,{color:"warning",size:"sm",class:"ms-2",onClick:function(n){return e.$router.push({path:"/auto-renew-license",query:{license:t.license,state:t.autoRenew?"Disable":"Enable"}})}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(t.autoRenew?"Disable":"Enable")+" auto renew ",1)]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var d=n(8534),p=(n(6133),n(7042),n(6265)),f=n.n(p),C=n(6797),m=n.n(C),w=n(3752),v=n.n(w),h={moment:m(),components:{Loading:v()},data:function(){return{isLoading:!1,items:[]}},created:function(){this.getMyLicense()},methods:{getLicense:function(e){return e.slice(0,5)+"..."+e.slice(-5)},haveRenew:function(e){var t=(new Date(e.expiredAt).valueOf()-Date.now())/864e5;return t<=3},getMyLicense:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,f().get("/license/me");case 4:n=t.sent,o=n.data,e.items=o,e.isLoading=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),e.isLoading=!1,e.notify(t.t0.response.data.message),"jwt expired"!=t.t0.response.data.message&&"jwt malformed"!=t.t0.response.data.message&&"invalid signature"!=t.t0.response.data.message||(e.notify("Session expired"),e.logout());case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},x=n(89);const g=(0,x.Z)(h,[["render",u]]);var N=g}}]);