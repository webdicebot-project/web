(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[170],{1170:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(9199),o={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},a=(0,r.createElementVNode)("h1",null,"Login",-1),i={class:"text-medium-emphasis"},l=(0,r.createTextVNode)(" Chat with "),u=["href"],c=(0,r.createTextVNode)(" to get MemberID "),s=(0,r.createTextVNode)(" Get OTP "),d=(0,r.createTextVNode)(" Login "),f=(0,r.createTextVNode)(" Cancel "),p=(0,r.createElementVNode)("br",null,null,-1);function m(e,t,n,m,g,h){var C=(0,r.resolveComponent)("CIcon"),v=(0,r.resolveComponent)("CInputGroupText"),b=(0,r.resolveComponent)("CFormInput"),x=(0,r.resolveComponent)("CInputGroup"),_=(0,r.resolveComponent)("CSpinner"),w=(0,r.resolveComponent)("CButton"),k=(0,r.resolveComponent)("vue-telegram-login"),y=(0,r.resolveComponent)("CCol"),V=(0,r.resolveComponent)("CRow"),N=(0,r.resolveComponent)("CCardBody"),T=(0,r.resolveComponent)("CCard"),S=(0,r.resolveComponent)("CCardGroup"),L=(0,r.resolveComponent)("CContainer");return(0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.createVNode)(L,null,{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(V,{class:"justify-content-center"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(y,{md:8},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(S,null,{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(T,{class:"p-4"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(N,null,{default:(0,r.withCtx)((function(){return[a,(0,r.createElementVNode)("p",i,[l,(0,r.createElementVNode)("a",{href:e.$options.telebot,target:"_blank"}," Telegram bot ",8,u),c]),(0,r.createVNode)(x,{class:"mb-4"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(v,null,{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(C,{icon:"cil-user"})]})),_:1}),(0,r.createVNode)(b,{placeholder:"MemberID",modelValue:g.idUser,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.idUser=e})},null,8,["modelValue"])]})),_:1}),(0,r.createVNode)(x,{class:"mb-4"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(v,null,{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(C,{icon:"cil-lock-locked"})]})),_:1}),(0,r.createVNode)(b,{placeholder:"OTP code",modelValue:g.otp,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.otp=e})},null,8,["modelValue"]),g.isLoading?((0,r.openBlock)(),(0,r.createBlock)(w,{key:0,class:"px-4",disabled:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(_,{size:"sm"})]})),_:1})):((0,r.openBlock)(),(0,r.createBlock)(w,{key:1,color:"success",onClick:h.getOTP},{default:(0,r.withCtx)((function(){return[s]})),_:1},8,["onClick"]))]})),_:1}),(0,r.createVNode)(V,null,{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(y,{xs:6},{default:(0,r.withCtx)((function(){return[g.isLoading2?((0,r.openBlock)(),(0,r.createBlock)(w,{key:0,class:"px-4",disabled:""},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(_,{size:"sm"})]})),_:1})):((0,r.openBlock)(),(0,r.createBlock)(w,{key:1,color:"primary",class:"px-4",onClick:h.login},{default:(0,r.withCtx)((function(){return[d]})),_:1},8,["onClick"])),(0,r.createVNode)(w,{class:"mx-2",onClick:t[2]||(t[2]=function(t){return e.$router.push({path:"/get-started"})})},{default:(0,r.withCtx)((function(){return[f]})),_:1}),p,(0,r.createVNode)(k,{mode:"callback","telegram-login":"YourTelegramBot",onCallback:h.yourCallbackFunction},null,8,["onCallback"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var g=n(8534),h=(n(6133),n(6265)),C=n.n(h),v="https://t.me/webdicebot_bot",b=v,x=n(1425),_={telebot:b,components:{vueTelegramLogin:x.vueTelegramLogin},data:function(){return{isLoading:!1,isLoading2:!1,idUser:localStorage.getItem("idUser")||"",otp:""}},created:function(){this.idUser&&this.getOTP()},methods:{getOTP:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,C().post("/user/getOTPLogin",{idUser:e.idUser});case 4:n=t.sent,r=n.data,e.isLoading=!1,e.notify(r),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.isLoading=!1,e.notify(t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},login:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading2=!0,t.next=4,C().post("/user/login",{idUser:e.idUser,otp:e.otp});case 4:n=t.sent,r=n.data,e.isLoading2=!1,localStorage.setItem("idUser",e.idUser),localStorage.setItem("token",r.token),e.notify("Welcome"),r.token&&setTimeout((function(){window.location.href="/"}),1e3),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),e.isLoading2=!1,e.notify(t.t0.response.data.message);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},yourCallbackFunction:function(e){console.log(e)}}},w=n(89);const k=(0,w.Z)(_,[["render",m]]);var y=k},1425:function(e,t,n){var r,o,a;e=n.nmd(e);var i=n(7847)["default"];n(2526),n(1817),n(1539),n(3680),n(3706),n(2703),n(6699),n(7852),n(2222),function(n,l){"object"==i(t)&&"object"==i(e)?e.exports=l():(o=[],r=l,a="function"===typeof r?r.apply(t,o):r,void 0===a||(e.exports=a))}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==i(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={name:"vue-telegram-login",props:{mode:{type:String,required:!0,validator:function(e){return["callback","redirect"].includes(e)}},telegramLogin:{type:String,required:!0,validator:function(e){return e.endsWith("bot")||e.endsWith("Bot")}},redirectUrl:{type:String,default:""},requestAccess:{type:String,default:"read",validator:function(e){return["read","write"].includes(e)}},size:{type:String,default:"large",validator:function(e){return["small","medium","large"].includes(e)}},userpic:{type:Boolean,default:!0},radius:{type:String}},methods:{onTelegramAuth:function(e){this.$emit("callback",e)}},mounted:function(){var e=document.createElement("script");e.async=!0,e.src="https://telegram.org/js/telegram-widget.js?3",e.setAttribute("data-size",this.size),e.setAttribute("data-userpic",this.userpic),e.setAttribute("data-telegram-login",this.telegramLogin),e.setAttribute("data-request-access",this.requestAccess),this.radius&&e.setAttribute("data-radius",this.radius),"callback"===this.mode?(window.onTelegramAuth=this.onTelegramAuth,e.setAttribute("data-onauth","window.onTelegramAuth(user)")):e.setAttribute("data-auth-url",this.redirectUrl),this.$refs.telegram.appendChild(e)}},o=function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"telegram"})};o._withStripped=!0;var a=function(e,t,n,r,o,a,l,u){var c=i((e=e||{}).default);"object"!==c&&"function"!==c||(e=e.default);var s,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),r&&(d.functional=!0),a&&(d._scopeId=a),l?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},d._ssrRegister=s):o&&(s=u?function(){o.call(this,this.$root.$options.shadowRoot)}:o),s)if(d.functional){d._injectStyles=s;var f=d.render;d.render=function(e,t){return s.call(t),f(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,s):[s]}return{exports:e,options:d}}(r,o,[],!1,null,null,null);a.options.__file="src/vue-telegram-login.vue";var l=a.exports;n.d(t,"vueTelegramLogin",(function(){return l}))}])}))}}]);