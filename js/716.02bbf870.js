"use strict";(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[716],{5716:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var o=a(9199);const l={class:"vld-parent"},n={"aria-label":"Page navigation example"},s={class:"pagination"},c={key:0,class:"page-item"},r={class:"page-item active"},i={key:1,class:"page-item"},d=(0,o.createTextVNode)("Time"),p=(0,o.createTextVNode)("License"),m=(0,o.createTextVNode)("Expired"),u=(0,o.createTextVNode)("AutoRenew"),C=(0,o.createTextVNode)("User"),g={class:"copy"},x=(0,o.createTextVNode)("It's over"),N={key:1},h=(0,o.createTextVNode)("Yes"),V=(0,o.createTextVNode)("No");function k(e,t,a,k,v,f){const w=(0,o.resolveComponent)("loading"),y=(0,o.resolveComponent)("CTableHeaderCell"),B=(0,o.resolveComponent)("CTableRow"),_=(0,o.resolveComponent)("CTableHead"),T=(0,o.resolveComponent)("CTableDataCell"),D=(0,o.resolveComponent)("CIcon"),b=(0,o.resolveComponent)("CBadge"),E=(0,o.resolveComponent)("CTableBody"),P=(0,o.resolveComponent)("CTable"),L=(0,o.resolveComponent)("CCardBody"),Y=(0,o.resolveComponent)("CCard"),S=(0,o.resolveDirective)("clipboard");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)(w,{active:v.isLoading},null,8,["active"]),(0,o.createVNode)(Y,{class:"mb-4"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(L,null,{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("p",null,"Total: "+(0,o.toDisplayString)(v.totalDocs),1),(0,o.createElementVNode)("nav",n,[(0,o.createElementVNode)("ul",s,[v.prevPage?((0,o.openBlock)(),(0,o.createElementBlock)("li",c,[(0,o.createElementVNode)("a",{class:"page-link button",onClick:t[0]||(t[0]=e=>f.adminGetUsers(v.prevPage))}," Prev ")])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("li",r,[(0,o.createElementVNode)("a",{class:"page-link button",onClick:t[1]||(t[1]=e=>f.adminGetUsers(v.page))},(0,o.toDisplayString)(v.page),1)]),v.nextPage?((0,o.openBlock)(),(0,o.createElementBlock)("li",i,[(0,o.createElementVNode)("a",{class:"page-link button",onClick:t[2]||(t[2]=e=>f.adminGetUsers(v.nextPage))}," Next ")])):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)(P,{responsive:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(_,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(B,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(y,{scope:"col"},{default:(0,o.withCtx)((()=>[d])),_:1}),(0,o.createVNode)(y,{scope:"col"},{default:(0,o.withCtx)((()=>[p])),_:1}),(0,o.createVNode)(y,{scope:"col"},{default:(0,o.withCtx)((()=>[m])),_:1}),(0,o.createVNode)(y,{scope:"col"},{default:(0,o.withCtx)((()=>[u])),_:1}),(0,o.createVNode)(y,{scope:"col"},{default:(0,o.withCtx)((()=>[C])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(E,null,{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(v.docs,(t=>((0,o.openBlock)(),(0,o.createBlock)(B,{key:t._id},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(T,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$options.moment(t.createdAt).format("DD/MM/YYYY HH:mm:ss")),1)])),_:2},1024),(0,o.createVNode)(T,null,{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("span",g,[(0,o.createTextVNode)((0,o.toDisplayString)(f.getLicense(t.license))+" ",1),(0,o.createVNode)(D,{name:"cil-copy"})],512),[[S,t.license,"copy"],[S,e.onCopy,"success"]])])),_:2},1024),(0,o.createVNode)(T,null,{default:(0,o.withCtx)((()=>[t.expired?((0,o.openBlock)(),(0,o.createBlock)(b,{key:0,color:"danger"},{default:(0,o.withCtx)((()=>[x])),_:1})):((0,o.openBlock)(),(0,o.createElementBlock)("span",N,(0,o.toDisplayString)(e.$options.moment(t.expiredAt).format("DD/MM/YYYY HH:mm:ss")),1))])),_:2},1024),(0,o.createVNode)(T,null,{default:(0,o.withCtx)((()=>[t.autoRenew?((0,o.openBlock)(),(0,o.createBlock)(b,{key:0,color:"success"},{default:(0,o.withCtx)((()=>[h])),_:1})):((0,o.openBlock)(),(0,o.createBlock)(b,{key:1,color:"warning"},{default:(0,o.withCtx)((()=>[V])),_:1}))])),_:2},1024),(0,o.createVNode)(T,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.user.idUser),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])}var v=a(6265),f=a.n(v),w=a(6797),y=a.n(w),B=a(3752),_=a.n(B),T={moment:y(),components:{Loading:_()},data(){return{isLoading:!1,totalDocs:0,docs:[],page:1,nextPage:2,prevPage:null}},created(){this.adminGetUsers(this.page)},methods:{getLicense(e){return e.slice(0,5)+"..."+e.slice(-5)},async adminGetUsers(e){try{this.isLoading=!0;const{data:t}=await f().get("/license?page="+e);this.totalDocs=t.totalDocs,this.docs=t.docs,this.page=t.page,this.nextPage=t.nextPage,this.prevPage=t.prevPage,this.isLoading=!1}catch(t){this.isLoading=!1,this.notify(t.response.data.message),"jwt expired"!=t.response.data.message&&"jwt malformed"!=t.response.data.message&&"invalid signature"!=t.response.data.message||(this.notify("Session expired"),this.logout())}}}},D=a(89);const b=(0,D.Z)(T,[["render",k]]);var E=b}}]);