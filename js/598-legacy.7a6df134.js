"use strict";(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[598],{6598:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var o=n(9199),r={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},a=(0,o.createElementVNode)("h1",null,"Login",-1),i={class:"text-medium-emphasis"},c=(0,o.createTextVNode)(" Chat with "),l=["href"],u=(0,o.createTextVNode)(" to get MemberID "),s=(0,o.createTextVNode)(" Get OTP "),d=(0,o.createTextVNode)(" Login "),f=(0,o.createTextVNode)(" Cancel ");function p(e,t,n,p,C,m){var h=(0,o.resolveComponent)("CIcon"),g=(0,o.resolveComponent)("CInputGroupText"),x=(0,o.resolveComponent)("CFormInput"),k=(0,o.resolveComponent)("CInputGroup"),V=(0,o.resolveComponent)("CSpinner"),w=(0,o.resolveComponent)("CButton"),v=(0,o.resolveComponent)("CCol"),N=(0,o.resolveComponent)("CRow"),_=(0,o.resolveComponent)("CCardBody"),b=(0,o.resolveComponent)("CCard"),T=(0,o.resolveComponent)("CCardGroup"),L=(0,o.resolveComponent)("CContainer");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(L,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(N,{class:"justify-content-center"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(v,{md:8},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(T,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(b,{class:"p-4"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(_,null,{default:(0,o.withCtx)((function(){return[a,(0,o.createElementVNode)("p",i,[c,(0,o.createElementVNode)("a",{href:e.$options.telebot,target:"_blank"}," Telegram bot ",8,l),u]),(0,o.createVNode)(k,{class:"mb-4"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(h,{icon:"cil-user"})]})),_:1}),(0,o.createVNode)(x,{placeholder:"MemberID",modelValue:C.idUser,"onUpdate:modelValue":t[0]||(t[0]=function(e){return C.idUser=e})},null,8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{class:"mb-4"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(h,{icon:"cil-lock-locked"})]})),_:1}),(0,o.createVNode)(x,{placeholder:"OTP code",modelValue:C.otp,"onUpdate:modelValue":t[1]||(t[1]=function(e){return C.otp=e})},null,8,["modelValue"]),C.isLoading?((0,o.openBlock)(),(0,o.createBlock)(w,{key:0,class:"px-4",disabled:""},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(V,{size:"sm"})]})),_:1})):((0,o.openBlock)(),(0,o.createBlock)(w,{key:1,color:"success",onClick:m.getOTP},{default:(0,o.withCtx)((function(){return[s]})),_:1},8,["onClick"]))]})),_:1}),(0,o.createVNode)(N,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(v,{xs:6},{default:(0,o.withCtx)((function(){return[C.isLoading2?((0,o.openBlock)(),(0,o.createBlock)(w,{key:0,class:"px-4",disabled:""},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(V,{size:"sm"})]})),_:1})):((0,o.openBlock)(),(0,o.createBlock)(w,{key:1,color:"primary",class:"px-4",onClick:m.login},{default:(0,o.withCtx)((function(){return[d]})),_:1},8,["onClick"])),(0,o.createVNode)(w,{class:"mx-2",onClick:t[2]||(t[2]=function(t){return e.$router.push({path:"/get-started"})})},{default:(0,o.withCtx)((function(){return[f]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var C=n(8534),m=(n(6133),n(6265)),h=n.n(m),g="https://t.me/webdicebot_bot",x=g,k={telebot:x,data:function(){return{isLoading:!1,isLoading2:!1,idUser:localStorage.getItem("idUser")||"",otp:""}},created:function(){this.idUser&&this.getOTP()},methods:{getOTP:function(){var e=this;return(0,C.Z)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,h().post("/user/getOTPLogin",{idUser:e.idUser});case 4:n=t.sent,o=n.data,e.isLoading=!1,e.notify(o),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.isLoading=!1,e.notify(t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},login:function(){var e=this;return(0,C.Z)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading2=!0,t.next=4,h().post("/user/login",{idUser:e.idUser,otp:e.otp});case 4:n=t.sent,o=n.data,e.isLoading2=!1,localStorage.setItem("idUser",e.idUser),localStorage.setItem("token",o.token),e.notify("Welcome"),o.token&&setTimeout((function(){window.location.href="/"}),1e3),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),e.isLoading2=!1,e.notify(t.t0.response.data.message);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}},V=n(89);const w=(0,V.Z)(k,[["render",p]]);var v=w}}]);