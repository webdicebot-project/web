"use strict";(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[853],{853:function(e,t,o){o.r(t),o.d(t,{default:function(){return x}});var n=o(9199);const a={class:"vld-parent"},s=(0,n.createTextVNode)("License"),l=(0,n.createTextVNode)("Expired"),i={class:"copy"},r=(0,n.createTextVNode)(" Renew ");function c(e,t,o,c,d,u){const p=(0,n.resolveComponent)("loading"),C=(0,n.resolveComponent)("CTableHeaderCell"),m=(0,n.resolveComponent)("CTableRow"),h=(0,n.resolveComponent)("CTableHead"),w=(0,n.resolveComponent)("CIcon"),v=(0,n.resolveComponent)("CTableDataCell"),f=(0,n.resolveComponent)("CButton"),x=(0,n.resolveComponent)("CTableBody"),g=(0,n.resolveComponent)("CTable"),N=(0,n.resolveComponent)("CCardBody"),V=(0,n.resolveComponent)("CCard"),y=(0,n.resolveDirective)("clipboard");return(0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createVNode)(p,{active:d.isLoading},null,8,["active"]),(0,n.createVNode)(V,{class:"mb-4"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(N,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(g,{responsive:""},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(m,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(C,{scope:"col"},{default:(0,n.withCtx)((()=>[s])),_:1}),(0,n.createVNode)(C,{scope:"col"},{default:(0,n.withCtx)((()=>[l])),_:1}),(0,n.createVNode)(C,{scope:"col"})])),_:1})])),_:1}),(0,n.createVNode)(x,null,{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(d.items,(t=>((0,n.openBlock)(),(0,n.createBlock)(m,{key:t._id},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(v,null,{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("span",i,[(0,n.createTextVNode)((0,n.toDisplayString)(u.getLicense(t.license))+" ",1),(0,n.createVNode)(w,{name:"cil-copy"})],512),[[y,t.license,"copy"],[y,e.onCopy,"success"]])])),_:2},1024),(0,n.createVNode)(v,null,{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.$options.moment(t.expiredAt).format("DD/MM/YYYY HH:mm:ss")),1)])),_:2},1024),(0,n.createVNode)(v,null,{default:(0,n.withCtx)((()=>[u.haveRenew(t)?((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,color:"primary",size:"sm",onClick:o=>e.$router.push({path:"/renew-license",query:{license:t.license}})},{default:(0,n.withCtx)((()=>[r])),_:2},1032,["onClick"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(f,{color:"warning",size:"sm",class:"ms-2",onClick:o=>e.$router.push({path:"/auto-renew-license",query:{license:t.license,state:t.autoRenew?"Disable":"Enable"}})},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(t.autoRenew?"Disable":"Enable")+" Auto Renew ",1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])}var d=o(6265),u=o.n(d),p=o(6797),C=o.n(p),m=o(3752),h=o.n(m),w={moment:C(),components:{Loading:h()},data(){return{isLoading:!1,items:[]}},created(){this.getMyLicense()},methods:{getLicense(e){return e.slice(0,5)+"..."+e.slice(-5)},haveRenew(e){const t=(new Date(e.expiredAt).valueOf()-Date.now())/864e5;return t<=3},async getMyLicense(){try{this.isLoading=!0;const{data:e}=await u().get("/license/me");this.items=e,this.isLoading=!1}catch(e){this.isLoading=!1,this.notify(e.response.data.message),"jwt expired"!=e.response.data.message&&"jwt malformed"!=e.response.data.message&&"invalid signature"!=e.response.data.message||(this.notify("Session expired"),this.logout())}}}},v=o(89);const f=(0,v.Z)(w,[["render",c]]);var x=f}}]);