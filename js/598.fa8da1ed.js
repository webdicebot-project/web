"use strict";(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[598],{6598:function(e,t,o){o.r(t),o.d(t,{default:function(){return w}});var a=o(9199);const l={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},n=(0,a.createElementVNode)("h1",null,"Login",-1),s={class:"text-medium-emphasis"},i=(0,a.createTextVNode)(" Chat with "),r=["href"],d=(0,a.createTextVNode)(" to get MemberID "),c=(0,a.createTextVNode)(" Get OTP "),u=(0,a.createTextVNode)(" Login "),C=(0,a.createTextVNode)(" Cancel ");function h(e,t,o,h,p,m){const f=(0,a.resolveComponent)("CIcon"),g=(0,a.resolveComponent)("CInputGroupText"),V=(0,a.resolveComponent)("CFormInput"),x=(0,a.resolveComponent)("CInputGroup"),k=(0,a.resolveComponent)("CSpinner"),w=(0,a.resolveComponent)("CButton"),N=(0,a.resolveComponent)("CCol"),_=(0,a.resolveComponent)("CRow"),v=(0,a.resolveComponent)("CCardBody"),b=(0,a.resolveComponent)("CCard"),y=(0,a.resolveComponent)("CCardGroup"),T=(0,a.resolveComponent)("CContainer");return(0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{class:"justify-content-center"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{md:8},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{class:"p-4"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[n,(0,a.createElementVNode)("p",s,[i,(0,a.createElementVNode)("a",{href:e.$options.telebot,target:"_blank"}," Telegram bot ",8,r),d]),(0,a.createVNode)(x,{class:"mb-4"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{icon:"cil-user"})])),_:1}),(0,a.createVNode)(V,{placeholder:"MemberID",modelValue:p.idUser,"onUpdate:modelValue":t[0]||(t[0]=e=>p.idUser=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(x,{class:"mb-4"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{icon:"cil-lock-locked"})])),_:1}),(0,a.createVNode)(V,{placeholder:"OTP code",modelValue:p.otp,"onUpdate:modelValue":t[1]||(t[1]=e=>p.otp=e)},null,8,["modelValue"]),p.isLoading?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,class:"px-4",disabled:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{size:"sm"})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(w,{key:1,color:"success",onClick:m.getOTP},{default:(0,a.withCtx)((()=>[c])),_:1},8,["onClick"]))])),_:1}),(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{xs:6},{default:(0,a.withCtx)((()=>[p.isLoading2?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,class:"px-4",disabled:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{size:"sm"})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(w,{key:1,color:"primary",class:"px-4",onClick:m.login},{default:(0,a.withCtx)((()=>[u])),_:1},8,["onClick"])),(0,a.createVNode)(w,{class:"mx-2",onClick:t[2]||(t[2]=t=>e.$router.push({path:"/get-started"}))},{default:(0,a.withCtx)((()=>[C])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var p=o(6265),m=o.n(p);const f="https://t.me/webdicebot_bot";var g=f,V={telebot:g,data(){return{isLoading:!1,isLoading2:!1,idUser:localStorage.getItem("idUser")||"",otp:""}},created(){this.idUser&&this.getOTP()},methods:{async getOTP(){try{this.isLoading=!0;const{data:e}=await m().post("/user/getOTPLogin",{idUser:this.idUser});this.isLoading=!1,this.notify(e)}catch(e){this.isLoading=!1,this.notify(e.response.data.message)}},async login(){try{this.isLoading2=!0;const{data:e}=await m().post("/user/login",{idUser:this.idUser,otp:this.otp});this.isLoading2=!1,localStorage.setItem("idUser",this.idUser),localStorage.setItem("token",e.token),this.notify("Welcome"),e.token&&setTimeout((()=>{window.location.href="/"}),1e3)}catch(e){this.isLoading2=!1,this.notify(e.response.data.message)}}}},x=o(89);const k=(0,x.Z)(V,[["render",h]]);var w=k}}]);