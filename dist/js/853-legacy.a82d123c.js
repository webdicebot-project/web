"use strict";(self["webpackChunkinstaller"]=self["webpackChunkinstaller"]||[]).push([[853],{853:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var o=n(9199),r={class:"vld-parent"},a=(0,o.createTextVNode)("License"),i=(0,o.createTextVNode)("Expired"),c={class:"copy"},l=(0,o.createTextVNode)(" Renew ");function s(e,t,n,s,u,d){var p=(0,o.resolveComponent)("loading"),f=(0,o.resolveComponent)("CTableHeaderCell"),C=(0,o.resolveComponent)("CTableRow"),m=(0,o.resolveComponent)("CTableHead"),w=(0,o.resolveComponent)("CIcon"),v=(0,o.resolveComponent)("CTableDataCell"),h=(0,o.resolveComponent)("CButton"),x=(0,o.resolveComponent)("CTableBody"),g=(0,o.resolveComponent)("CTable"),N=(0,o.resolveComponent)("CCardBody"),V=(0,o.resolveComponent)("CCard"),k=(0,o.resolveDirective)("clipboard");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(p,{active:u.isLoading},null,8,["active"]),(0,o.createVNode)(V,{class:"mb-4"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(N,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,{responsive:""},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(m,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(C,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(f,{scope:"col"},{default:(0,o.withCtx)((function(){return[a]})),_:1}),(0,o.createVNode)(f,{scope:"col"},{default:(0,o.withCtx)((function(){return[i]})),_:1}),(0,o.createVNode)(f,{scope:"col"})]})),_:1})]})),_:1}),(0,o.createVNode)(x,null,{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(u.items,(function(t){return(0,o.openBlock)(),(0,o.createBlock)(C,{key:t._id},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(v,null,{default:(0,o.withCtx)((function(){return[(0,o.withDirectives)((0,o.createElementVNode)("span",c,[(0,o.createTextVNode)((0,o.toDisplayString)(d.getLicense(t.license))+" ",1),(0,o.createVNode)(w,{name:"cil-copy"})],512),[[k,t.license,"copy"],[k,e.onCopy,"success"]])]})),_:2},1024),(0,o.createVNode)(v,null,{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e.$options.moment(t.expiredAt).format("DD/MM/YYYY HH:mm:ss")),1)]})),_:2},1024),(0,o.createVNode)(v,null,{default:(0,o.withCtx)((function(){return[d.haveRenew(t)?((0,o.openBlock)(),(0,o.createBlock)(h,{key:0,color:"primary",size:"sm",onClick:function(n){return e.$router.push({path:"/renew-license",query:{license:t.license}})}},{default:(0,o.withCtx)((function(){return[l]})),_:2},1032,["onClick"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(h,{color:"warning",size:"sm",class:"ms-2",onClick:function(n){return e.$router.push({path:"/auto-renew-license",query:{license:t.license,state:t.autoRenew?"Disable":"Enable"}})}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(t.autoRenew?"Disable":"Enable")+" Auto Renew ",1)]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var u=n(8534),d=(n(6133),n(7042),n(6265)),p=n.n(d),f=n(6797),C=n.n(f),m=n(3752),w=n.n(m),v={moment:C(),components:{Loading:w()},data:function(){return{isLoading:!1,items:[]}},created:function(){this.getMyLicense()},methods:{getLicense:function(e){return e.slice(0,5)+"..."+e.slice(-5)},haveRenew:function(e){var t=(new Date(e.expiredAt).valueOf()-Date.now())/864e5;return t<=3},getMyLicense:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,p().get("/license/me");case 4:n=t.sent,o=n.data,e.items=o,e.isLoading=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),e.isLoading=!1,e.notify(t.t0.response.data.message),"jwt expired"!=t.t0.response.data.message&&"jwt malformed"!=t.t0.response.data.message&&"invalid signature"!=t.t0.response.data.message||(e.notify("Session expired"),e.logout());case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},h=n(89);const x=(0,h.Z)(v,[["render",s]]);var g=x}}]);